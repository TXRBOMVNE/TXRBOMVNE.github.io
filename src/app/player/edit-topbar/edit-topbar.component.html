<div id="container" class="row m-0 px-md-2 px-lg-4 flex-nowrap justify-content-center justify-content-md-between">
  <div preventUnfocus
    class="row justify-content-evenly justify-content-md-start p-0 m-0 col-auto flex-grow-1 flex-nowrap">
    <div id="burger-container" (click)="openMenu()"
      class="d-flex d-md-none col-2 col-sm-auto p-0 m-0 justify-content-center align-items-center">
      <button id="burger"></button>
    </div>
    <div @appear *ngIf="currentSpotifyTrack"
      class="row m-0 p-0 col col-sm-auto flex-shrink-1 flex-nowrap overflow-hidden">
      <div class="col-sm-auto col-2 p-0 text-center my-auto">
        <img class="img-fluid" [src]="currentSpotifyTrack!.album.images[1].url" alt="">
      </div>
      <div class="col-10 col-sm-auto p-0 my-auto">
        <h3 id="song-title" class="m-0 ms-2 fw-bold">{{currentSpotifyTrack!.name}}</h3>
        <h4 id="artists" class="m-0 ms-2 fw-light">{{currentSpotifyTrack!.artists[0].name}}</h4>
      </div>
    </div>
    <div @appear *ngIf="currentSpotifyTrack" id="play-pause" class="p-0 col-auto text-white position-relative">
      <div id="fill-div"></div>
      <div id="pause" (click)="pause()" *ngIf="appStatus.isPlaying">
        <svg fill="currentColor" class="bi bi-pause-circle-fill" viewBox="0 0 16 16">
          <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z" />
        </svg>
      </div>
      <div id="play" (click)="play()" *ngIf="!appStatus.isPlaying">
        <svg fill="currentColor" class="bi bi-play-circle-fill" viewBox="0 0 16 16">
          <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z" />
        </svg>
      </div>
    </div>
  </div>
  <div id="tools" class="row m-0 d-none d-md-flex col p-0 flex-grow-1 flex-lg-grow-0 flex-row-reverse flex-nowrap">
    <div id="notation-group" class="col p-0">
      <form class="d-flex justify-content-evenly col-auto h-100" [formGroup]="noteProperties">
        <div id="time-signature-input-container" class="d-flex flex-column justify-content-center">
          <input class="form-control-plaintext m-0 border-0 p-0" autocomplete="off" type="number"
            name="timeSignatureNumerator" min="1" step="1" max="99" formControlName="timeSignatureNumerator">
          <input class="form-control-plaintext m-0 border-0 p-0" autocomplete="off" type="number"
            name="timeSignatureDenominator" min="1" step="1" max="99" formControlName="timeSignatureDenominator">
        </div>
        <div class="p-0 mx-2 my-2" style="height: 95%;width:1px;background-color:#333533"></div>
        <div preventUnfocus id="note-duration-input-group" class="px-0 py-2 m-0 d-flex justify-content-end flex-wrap">
          <div class="mx-0 position-relative rounded d-flex align-items-center">
            <input type="radio" name="initialDurationInverse" [value]="1" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 px-1 h-100 d-flex align-items-center">
              <img
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F1st_note.svg?alt=media"
                alt="Whole note">
            </label>
          </div>
          <div class="mx-1 position-relative rounded">
            <input type="radio" name="initialDurationInverse" [value]="2" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 h-100 d-flex align-items-center">
              <img height="35px"
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F2nd_note.svg?alt=media"
                alt="Half note">
            </label>
          </div>
          <div class="mx-1 position-relative rounded">
            <input type="radio" name="initialDurationInverse" [value]="4" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 h-100 d-flex align-items-center">
              <img height="35px"
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F4th_note.svg?alt=media"
                alt="Quarter note">
            </label>
          </div>
          <div class="mx-1 position-relative rounded">
            <input type="radio" name="initialDurationInverse" [value]="8" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 h-100 d-flex align-items-center">
              <img height="35px"
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F8th_note.svg?alt=media"
                alt="Eighth note">
            </label>
          </div>
          <div class="mx-1 position-relative rounded">
            <input type="radio" name="initialDurationInverse" [value]="16" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 h-100 d-flex align-items-center">
              <img height="35px"
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F16th_note.svg?alt=media"
                alt="Sixteenth note">
            </label>
          </div>
          <div class="mx-1 position-relative rounded">
            <input type="radio" name="initialDurationInverse" [value]="32" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 h-100 d-flex align-items-center">
              <img height="35px"
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F32nd_note.svg?alt=media"
                alt="Thirty-second note">
            </label>
          </div>
          <div class="mx-1 position-relative rounded">
            <input type="radio" name="initialDurationInverse" [value]="64" formControlName="initialDurationInverse">
            <label for="initialDurationInverse" class="rounded-1 p-2 h-100 d-flex align-items-center">
              <img height="35px"
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Fnotes%2F64th_note.svg?alt=media"
                alt="Whole note">
            </label>
          </div>
        </div>
        <div class="p-0 mx-2 my-2" style="height: 95%;width:1px;background-color:#333533"></div>
        <div preventUnfocus id="note-effects" class="col-auto d-flex justify-content-end">
          <div id="note-dot" class="mx-1 my-auto position-relative rounded d-flex align-items-center">
            <input type="checkbox" name="isDotted" formControlName="isDotted">
            <label for="effects" class="rounded-1 p-2 px-1 h-100 d-flex align-items-center">
              <img
                src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Feffects%2Fdot.svg?alt=media"
                alt="Note dot">
            </label>
          </div>
          <div id="additional-options" class="d-flex flex-column justify-content-evenly">
            <div id="rest-btn-container" class="position-relative">
              <input type="checkbox" name="isRest" formControlName="isRest">
              <label for="isRest" class="rounded-2 d-flex justify-content-center align-items-center">
                <span class="fw-normal">Rest</span>
              </label>
            </div>
            <div class="position-relative">
              <div id="slide-menu-btn" class="btn-group">
                <button (click)="showSlideMenu = !showSlideMenu" [disabled]="noteProperties.controls['isRest'].value"
                  class="btn">Slide</button>
                <button (click)="showSlideMenu = !showSlideMenu" [disabled]="noteProperties.controls['isRest'].value"
                  class="btn fw-normal position-relative">
                  <div style="height: 19px;width: 9px;"></div>
                  <span style="position: absolute; top: 50%;left: 50%;transform: translate(-50%,-75%);">&#8964;</span>
                </button>
              </div>
              <div id="slide-menu" @scale class="d-flex justify-content-end flex-wrap rounded p-2 overflow-hidden"
                *ngIf="showSlideMenu">
                <div>
                  <div class="position-relative rounded d-flex align-items-center">
                    <input type="radio" uncheck name="slideOutMode" value="slideToNote" formControlName="slideOutMode">
                    <label for="slideOutMode" class="rounded-1 px-2 h-100 d-flex align-items-center">
                      <img class="slide-figure"
                        src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Feffects%2Fslide-to-note.svg?alt=media"
                        alt="Whole note">
                    </label>
                  </div>
                  <div class="mt-3 position-relative rounded d-flex align-items-center">
                    <input type="radio" uncheck name="slideOutMode" value="slideUp" formControlName="slideOutMode">
                    <label for="slideOutMode" class="rounded-1 px-2 h-100 d-flex align-items-center">
                      <img class="slide-figure"
                        src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Feffects%2Fslide-out-up.svg?alt=media"
                        alt="Whole note">
                    </label>
                  </div>
                  <div class="mt-3 position-relative rounded d-flex align-items-center">
                    <input type="radio" uncheck name="slideOutMode" value="slideDown" formControlName="slideOutMode">
                    <label for="slideOutMode" class="rounded-1 px-2 h-100 d-flex align-items-center">
                      <img class="slide-figure"
                        src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Feffects%2Fslide-out-down.svg?alt=media"
                        alt="Whole note">
                    </label>
                  </div>
                  <hr class="my-3 text-white-50">
                </div>
                <div>
                  <div class="position-relative rounded d-flex align-items-center">
                    <input type="radio" uncheck name="slideInMode" value="slideDown" formControlName="slideInMode">
                    <label for="slideInMode" class="rounded-1 px-2 h-100 d-flex align-items-center">
                      <img class="slide-figure"
                        src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Feffects%2Fslide-in-down.svg?alt=media"
                        alt="Whole note">
                    </label>
                  </div>
                  <div class="mt-3 position-relative rounded d-flex align-items-center">
                    <input type="radio" uncheck name="slideInMode" value="slideUp" formControlName="slideInMode">
                    <label for="slideInMode" class="rounded-1 px-2 h-100 d-flex align-items-center">
                      <img class="slide-figure"
                        src="https://firebasestorage.googleapis.com/v0/b/tab-player.appspot.com/o/assets%2Fsvgs%2Feffects%2Fslide-in-up.svg?alt=media"
                        alt="Whole note">
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="p-0 mx-2 my-2" style="height: 95%;width:1px;background-color:#333533"></div>
    <div id="tempo-container" tabindex="0"
      class="col my-auto mx-0 py-3 px-lg-4 px-md-2 text-center rounded-1 position-relative">
      <div id="fill-div2"></div>
      <p id="tempo" class="m-0" style="color: #BF9C6E;">{{appStatus!.tempoMultiplier}}%</p>
      <div id="tempo-input-container" class="p-3 my-auto rounded">
        <input class="mx-2" [(ngModel)]="appStatus!.tempoMultiplier" (input)="updateTempo()" type="range" step="5"
          [defaultValue]="appStatus!.tempoMultiplier" min="50" max="200">
        <p class="d-inline-block float-start text-white fw-light">50%</p>
        <p class="d-inline-block float-end text-white fw-light">200% </p>
      </div>
    </div>
  </div>
</div>
