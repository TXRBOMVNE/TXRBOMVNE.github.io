<div id="background-image">
  <div id="background" class="d-flex justify-content-center align-items-center">
    <div id="modal" class="rounded text-center p-md-4 p-3" style="background-color: #202020; z-index: 10;">
      <h1 class="display-2 mb-md-4 mt-0 mb-1">L2P</h1>
      <div class="space-line"></div>
      <div id="form-container" class="py-3">
        <div class="mb-md-3">
          <p id="p1" class="my-0">This app uses Spotify Premium</p>
          <p id="p2" class="m-0">Please login and authorize to use your <br class="d-md-none"> Spotify account</p>
        </div>
        <form id="form" class="px-md-4 mt-sm-2 mt-2" [formGroup]="loginForm">
          <input class="form-control bg-dark rounded-pill border-0 shadow-none px-sm-4 text-white" type="email"
            placeholder="Email" name="email" formControlName="email" autocomplete="email">
          <input class="form-control bg-dark rounded-pill border-0 shadow-none px-sm-4 my-sm-3 my-2 text-white"
            type="password" autocomplete="current-password" placeholder="Password" name="password"
            formControlName="password">
          <div @appear *ngIf="!loginMode">
            <input class="form-control bg-dark rounded-pill border-0 shadow-none px-sm-4 mb-sm-3 mb-2 text-white"
              type="password username" placeholder="Confirm password" name="confirmPassword"
              formControlName="confirmPassword" autocomplete="current-password">
            <input class="form-control bg-dark rounded-pill border-0 shadow-none px-sm-4 my-sm-3 my-2 text-white"
              type="text" placeholder="Username" name="username" formControlName="username" autocomplete="username">
          </div>
          <p id="error" *ngIf="errorMessage" class="text-danger mb-2">{{errorMessage}}</p>
          <div class="p-0 position-relative" style="background-color: #202020; z-index: 10;">
            <div class="d-grid">
              <button type="submit"
                class="spotify-btn text-center mx-md-5 px-2 py-1 px-md-5 py-md-2 border-0 rounded-pill"
                (click)="requestAuth()" [disabled]="!loginForm.valid">
                <svg width="30" height="30" fill="currentColor" class="bi bi-spotify" viewBox="0 0 16 16">
                  <path
                    d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.669 11.538a.498.498 0 0 1-.686.165c-1.879-1.147-4.243-1.407-7.028-.77a.499.499 0 0 1-.222-.973c3.048-.696 5.662-.397 7.77.892a.5.5 0 0 1 .166.686zm.979-2.178a.624.624 0 0 1-.858.205c-2.15-1.321-5.428-1.704-7.972-.932a.625.625 0 0 1-.362-1.194c2.905-.881 6.517-.454 8.986 1.063a.624.624 0 0 1 .206.858zm.084-2.268C10.154 5.56 5.9 5.419 3.438 6.166a.748.748 0 1 1-.434-1.432c2.825-.857 7.523-.692 10.492 1.07a.747.747 0 1 1-.764 1.288z" />
                </svg>
                CONTINUE WITH SPOTIFY
              </button>
            </div>
            <div id="mobile-question" class="mt-3">
              <div class="d-grid" *ngIf="loginMode">
                <p class="p3 clickable m-0" (click)="toggleLoginMode(false)">Don't have an account?</p>
              </div>
              <div class="d-grid" *ngIf="!loginMode">
                <p class="p3 clickable m-0" (click)="toggleLoginMode(true)">Already have an account?</p>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="space-line"></div>
      <div id="desktop-question">
        <div class="d-grid" *ngIf="loginMode">
          <p class="p3 mt-4 clickable" (click)="toggleLoginMode(false)">Don't have an account?</p>
        </div>
        <div class="d-grid" *ngIf="!loginMode">
          <p class="p3 mt-4 clickable" (click)="toggleLoginMode(true)">Already have an account?</p>
        </div>
      </div>
    </div>
  </div>
</div>
